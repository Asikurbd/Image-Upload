<head>    
<link rel="icon" href="https://asikurbd.github.io/wi/flcl.png">

<link href="https://asikurbd.github.io/css/gt-page.css" rel="stylesheet" type="text/css"/>

<title> Image Upload</title>

<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0">
</head>

<html>        
<body> 

<script>
  (async () => {
    const response = await fetch('https://api.github.com/repos/asikurbd/Image-Upload/contents/');
    const data = await response.json();      
    let htmlString = '<a href=""><div style="text-align: center;"><div class="div"><center>Image Upload</center></div></a><br>';        
    
    for (let file of data) {
      // Check if file is an image (simple extension check)
      const isImage = /\.(jpg|jpeg|png|gif|webp|bmp)$/i.test(file.name);
      
      if (isImage) {
        // Use custom URL instead of GitHub's download_url
        const customUrl = `https://images.weserv.nl/?url=https://asikurbd.github.io/Image-Upload/${file.name}`;
        
        // For images, create a centered link with the image
        htmlString += `<a href="https://asikurbd.github.io/Image-Upload/${file.name}">`;
        htmlString += `<img src="${customUrl}&w=200&q=70" width="160px" height="160px" style="object-fit: cover;padding: 5px;border-radius:20px;"></a>`;
      }
    }

    htmlString += '</div>';              
    document.getElementsByTagName('body')[0].innerHTML = htmlString;
  })()
</script>

<body>
</html>
